<app-user-navbar name="userNavbar"></app-user-navbar>

<div class="container">
    <div class="row" style="margin-top: 1%; margin-bottom: 1%">
        <div style="position: absolute; right: 2%; width: 92%; text-align: right;">
            <button type="button" name="btnAdd" class="btn btn-primary" (click)="openAddCodeModal()">Add<i class="bi bi-plus"></i></button>&nbsp;
            <button class="btn btn-dark" name="btnBack" onclick="window.history.back()"><i class="bi bi-arrow-left-short"></i>&nbsp;Back</button>
        </div>
    </div>
</div>

<div style="margin-top: 3%; margin-bottom: initial" class="d-flex align-items-center justify-content-center">
    <h4 style="font-weight: bold" name="pageTitle">CODES MASTER</h4>
</div>

<ngx-datatable class="material"
               [rows]="data"
               columnMode="force"
               [headerHeight]="55"
               [footerHeight]="50"
               [rowHeight]="'auto'"
               [count]="count" [limit]="8" [offset]="0" (page)="setPage($event)">
    <ngx-datatable-column name="Type" prop="CM_TYPE"></ngx-datatable-column>
    <ngx-datatable-column name="Code" prop="CM_CODE"></ngx-datatable-column>
    <ngx-datatable-column name="Description" prop="CM_DESC"></ngx-datatable-column>
    <ngx-datatable-column name="Value" prop="CM_VALUE"></ngx-datatable-column>
    <ngx-datatable-column name="Active" prop="CM_ACTIVE_YN"></ngx-datatable-column>
    <ngx-datatable-column name="Action">
        <ng-template ngx-datatable-cell-template let-row="row">
            <button class="btn btn-warning btn-sm" name="editButton" (click)="openAddCodeModal(row)">Edit</button>&nbsp;
            <button class="btn btn-danger btn-sm" name="deleteButton" (click)="deleteCodesMaster(row.CM_CODE, row.CM_TYPE)">Delete</button>
        </ng-template>
    </ngx-datatable-column>
</ngx-datatable>
